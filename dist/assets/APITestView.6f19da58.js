import{_ as F,r as n,E as U,x as P,a as h,b as A,o as u,k as i,l as s,m as r,w as m,t as d,q as f,F as M,s as B,y as T,n as o,z as J,A as L,B as z,p as g,v as G}from"./index.7274972e.js";const q={class:"api-test-container"},j={class:"test-section"},H={key:0,class:"result"},K={class:"test-section"},Q={class:"form-group"},W={class:"form-group"},X={key:0,class:"result"},Y={class:"test-section"},Z={class:"form-group"},ee={key:0,class:"result"},se={class:"test-section"},te={key:0,class:"result"},le={class:"test-section"},ae={class:"log-container"},oe={class:"log-time"},ne={class:"log-message"},re={__name:"APITestView",setup(ue){const I=n(null),S=n(null),C=n(null),O=n(null),_=n("2"),y=n("alipay"),v=n(""),k=n(!1),p=n([]),l=(t,e)=>{p.value.unshift({time:new Date().toLocaleTimeString(),level:t,message:e}),p.value.length>50&&(p.value=p.value.slice(0,50))},V=()=>{p.value=[]},E=async()=>{try{l("INFO","\u5F00\u59CB\u6D4B\u8BD5\u83B7\u53D6\u4F1A\u5458\u5957\u9910\u5217\u8868...");const t=await T();I.value=t,l("SUCCESS","\u83B7\u53D6\u5957\u9910\u5217\u8868\u6210\u529F"),o.success("\u83B7\u53D6\u5957\u9910\u5217\u8868\u6210\u529F")}catch(t){l("ERROR",`\u83B7\u53D6\u5957\u9910\u5217\u8868\u5931\u8D25: ${t.message}`),o.error(`\u83B7\u53D6\u5957\u9910\u5217\u8868\u5931\u8D25: ${t.message}`)}},N=async()=>{if(!_.value){o.error("\u8BF7\u8F93\u5165\u7B49\u7EA7ID");return}k.value=!0;try{l("INFO",`\u5F00\u59CB\u6D4B\u8BD5\u521B\u5EFA\u5347\u7EA7\u8BA2\u5355: level_id=${_.value}, payment_method=${y.value}`);const t=await J({level_id:parseInt(_.value),payment_method:y.value});S.value=t,t.code===0&&t.data&&t.data.order_id&&(v.value=t.data.order_id),l("SUCCESS","\u521B\u5EFA\u5347\u7EA7\u8BA2\u5355\u6210\u529F"),o.success("\u521B\u5EFA\u5347\u7EA7\u8BA2\u5355\u6210\u529F")}catch(t){l("ERROR",`\u521B\u5EFA\u5347\u7EA7\u8BA2\u5355\u5931\u8D25: ${t.message}`),o.error(`\u521B\u5EFA\u5347\u7EA7\u8BA2\u5355\u5931\u8D25: ${t.message}`)}finally{k.value=!1}},w=async()=>{if(!v.value){o.error("\u8BF7\u8F93\u5165\u8BA2\u5355ID");return}try{l("INFO",`\u5F00\u59CB\u6D4B\u8BD5\u67E5\u8BE2\u8BA2\u5355\u72B6\u6001: order_id=${v.value}`);const t=await L(v.value);C.value=t,l("SUCCESS","\u67E5\u8BE2\u8BA2\u5355\u72B6\u6001\u6210\u529F"),o.success("\u67E5\u8BE2\u8BA2\u5355\u72B6\u6001\u6210\u529F")}catch(t){l("ERROR",`\u67E5\u8BE2\u8BA2\u5355\u72B6\u6001\u5931\u8D25: ${t.message}`),o.error(`\u67E5\u8BE2\u8BA2\u5355\u72B6\u6001\u5931\u8D25: ${t.message}`)}},b=async()=>{try{l("INFO","\u5F00\u59CB\u6D4B\u8BD5\u83B7\u53D6\u5F53\u524D\u4F1A\u5458\u4FE1\u606F...");const t=await z();O.value=t,l("SUCCESS","\u83B7\u53D6\u5F53\u524D\u4F1A\u5458\u4FE1\u606F\u6210\u529F"),o.success("\u83B7\u53D6\u5F53\u524D\u4F1A\u5458\u4FE1\u606F\u6210\u529F")}catch(t){l("ERROR",`\u83B7\u53D6\u5F53\u524D\u4F1A\u5458\u4FE1\u606F\u5931\u8D25: ${t.message}`),o.error(`\u83B7\u53D6\u5F53\u524D\u4F1A\u5458\u4FE1\u606F\u5931\u8D25: ${t.message}`)}};return l("INFO","\u4F1A\u5458\u5347\u7EA7API\u6D4B\u8BD5\u9875\u9762\u5DF2\u52A0\u8F7D"),l("INFO","\u8BF7\u6309\u987A\u5E8F\u8FDB\u884C\u6D4B\u8BD5\uFF1A1.\u83B7\u53D6\u5957\u9910\u5217\u8868 -> 2.\u521B\u5EFA\u5347\u7EA7\u8BA2\u5355 -> 3.\u67E5\u8BE2\u8BA2\u5355\u72B6\u6001"),(t,e)=>{const c=U,R=P,$=h,x=A;return u(),i("div",q,[e[20]||(e[20]=s("h1",null,"\u4F1A\u5458\u5347\u7EA7API\u6D4B\u8BD5",-1)),s("div",j,[e[5]||(e[5]=s("h2",null,"1. \u83B7\u53D6\u4F1A\u5458\u5957\u9910\u5217\u8868",-1)),r(c,{onClick:E,type:"primary"},{default:m(()=>e[3]||(e[3]=[g(" \u6D4B\u8BD5\u83B7\u53D6\u5957\u9910\u5217\u8868 ")])),_:1,__:[3]}),I.value?(u(),i("div",H,[e[4]||(e[4]=s("h4",null,"\u7ED3\u679C:",-1)),s("pre",null,d(JSON.stringify(I.value,null,2)),1)])):f("",!0)]),s("div",K,[e[10]||(e[10]=s("h2",null,"2. \u521B\u5EFA\u4F1A\u5458\u5347\u7EA7\u8BA2\u5355",-1)),s("div",Q,[e[6]||(e[6]=s("label",null,"\u7B49\u7EA7ID:",-1)),r(R,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=a=>_.value=a),placeholder:"\u8F93\u5165\u7B49\u7EA7ID",style:{width:"200px"}},null,8,["modelValue"])]),s("div",W,[e[7]||(e[7]=s("label",null,"\u652F\u4ED8\u65B9\u5F0F:",-1)),r(x,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=a=>y.value=a),placeholder:"\u9009\u62E9\u652F\u4ED8\u65B9\u5F0F",style:{width:"200px"}},{default:m(()=>[r($,{label:"\u652F\u4ED8\u5B9D",value:"alipay"})]),_:1},8,["modelValue"])]),r(c,{onClick:N,type:"primary",loading:k.value},{default:m(()=>e[8]||(e[8]=[g(" \u6D4B\u8BD5\u521B\u5EFA\u8BA2\u5355 ")])),_:1,__:[8]},8,["loading"]),S.value?(u(),i("div",X,[e[9]||(e[9]=s("h4",null,"\u7ED3\u679C:",-1)),s("pre",null,d(JSON.stringify(S.value,null,2)),1)])):f("",!0)]),s("div",Y,[e[14]||(e[14]=s("h2",null,"3. \u67E5\u8BE2\u8BA2\u5355\u72B6\u6001",-1)),s("div",Z,[e[11]||(e[11]=s("label",null,"\u8BA2\u5355ID:",-1)),r(R,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=a=>v.value=a),placeholder:"\u8F93\u5165\u8BA2\u5355ID",style:{width:"300px"}},null,8,["modelValue"])]),r(c,{onClick:w,type:"primary"},{default:m(()=>e[12]||(e[12]=[g(" \u6D4B\u8BD5\u67E5\u8BE2\u8BA2\u5355\u72B6\u6001 ")])),_:1,__:[12]}),C.value?(u(),i("div",ee,[e[13]||(e[13]=s("h4",null,"\u7ED3\u679C:",-1)),s("pre",null,d(JSON.stringify(C.value,null,2)),1)])):f("",!0)]),s("div",se,[e[17]||(e[17]=s("h2",null,"4. \u83B7\u53D6\u5F53\u524D\u4F1A\u5458\u4FE1\u606F",-1)),r(c,{onClick:b,type:"primary"},{default:m(()=>e[15]||(e[15]=[g(" \u6D4B\u8BD5\u83B7\u53D6\u5F53\u524D\u4F1A\u5458\u4FE1\u606F ")])),_:1,__:[15]}),O.value?(u(),i("div",te,[e[16]||(e[16]=s("h4",null,"\u7ED3\u679C:",-1)),s("pre",null,d(JSON.stringify(O.value,null,2)),1)])):f("",!0)]),s("div",le,[e[19]||(e[19]=s("h2",null,"\u6D4B\u8BD5\u65E5\u5FD7",-1)),s("div",ae,[(u(!0),i(M,null,B(p.value,(a,D)=>(u(),i("div",{key:D,class:"log-item"},[s("span",oe,d(a.time),1),s("span",{class:G(["log-level",a.level])},d(a.level),3),s("span",ne,d(a.message),1)]))),128))]),r(c,{onClick:V,size:"small"},{default:m(()=>e[18]||(e[18]=[g("\u6E05\u7A7A\u65E5\u5FD7")])),_:1,__:[18]})])])}}},de=F(re,[["__scopeId","data-v-75e9c82a"]]);export{de as default};
