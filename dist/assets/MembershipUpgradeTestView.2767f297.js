import{_ as j,u as q,r as g,E as G,a as O,b as A,c as H,d as J,e as K,f as Q,g as W,h as X,i as Y,j as Z,o as v,k as _,l as s,m as a,w as t,M as ee,n as f,p as r,t as p,q as k,F as se,s as le,v as ae}from"./index.7274972e.js";/* empty css                */const te={class:"upgrade-test-container"},oe={class:"page-header"},ne={class:"config-section"},re={class:"config-section"},ue={class:"status-info"},ie={class:"status-item"},me={class:"value"},de={key:0,class:"status-item"},pe={class:"value"},ve={class:"status-item"},_e={class:"value points"},ce={class:"status-item"},be={class:"value"},ge={class:"action-buttons"},fe={class:"log-header"},we={class:"logs-content"},Le={class:"log-time"},Ee={class:"log-message"},Ve={key:0,class:"no-logs"},ke={__name:"MembershipUpgradeTestView",setup(xe){const x=q(),l=g({memberLevel:"normal",memberExpireTime:null,points:5e3}),u=g("professional"),w=g(!1),m=g([]),T={normal:"\u666E\u901A\u4F1A\u5458",advanced:"\u9AD8\u7EA7\u4F1A\u5458",professional:"\u4E13\u4E1A\u4F1A\u5458"},c=o=>T[o]||"\u672A\u77E5\u7B49\u7EA7",y=o=>{switch(o){case"normal":return"";case"advanced":return"warning";case"professional":return"success";default:return""}},U=o=>o?new Date(o).toLocaleDateString("zh-CN"):"\u65E0",d=(o,e="info")=>{const i=new Date().toLocaleTimeString();m.value.unshift({time:i,message:o,type:e}),m.value.length>50&&m.value.pop()},D=()=>{m.value=[],d("\u65E5\u5FD7\u5DF2\u6E05\u7A7A","info")},M=()=>{if(l.value.memberLevel===u.value){f.warning("\u5F53\u524D\u5DF2\u662F\u76EE\u6807\u7B49\u7EA7\uFF0C\u65E0\u9700\u5347\u7EA7");return}d(`\u5F00\u59CB\u6D4B\u8BD5\u4F1A\u5458\u5347\u7EA7\uFF1A${c(l.value.memberLevel)} \u2192 ${c(u.value)}`,"info"),w.value=!0},C=()=>{l.value.memberLevel="professional",l.value.memberExpireTime=new Date(Date.now()+365*24*60*60*1e3),l.value.points=15e4,d("\u5DF2\u6A21\u62DF\u4E3A\u4E13\u4E1A\u4F1A\u5458\u72B6\u6001","success"),f.success("\u5DF2\u5207\u6362\u4E3A\u4E13\u4E1A\u4F1A\u5458\u72B6\u6001")},N=()=>{l.value.memberLevel="normal",l.value.memberExpireTime=null,l.value.points=5e3,d("\u5DF2\u91CD\u7F6E\u4E3A\u666E\u901A\u7528\u6237\u72B6\u6001","warning"),f.warning("\u5DF2\u91CD\u7F6E\u4E3A\u666E\u901A\u7528\u6237\u72B6\u6001")},h=o=>{d(`\u4F1A\u5458\u5347\u7EA7\u6210\u529F\uFF01\u5347\u7EA7\u5230\uFF1A${o.package.name}`,"success"),l.value.memberLevel=o.newLevel,l.value.memberExpireTime=new Date(Date.now()+(o.package.duration_days||365)*24*60*60*1e3),f.success("\u6D4B\u8BD5\u5347\u7EA7\u6210\u529F\uFF01\u7528\u6237\u72B6\u6001\u5DF2\u66F4\u65B0")},S=()=>{x.back()};return d("\u4F1A\u5458\u5347\u7EA7\u6D4B\u8BD5\u9875\u9762\u5DF2\u52A0\u8F7D","info"),(o,e)=>{const i=G,L=O,z=A,E=H,B=J,F=K,I=Q,V=W,R=X,b=Y,$=Z;return v(),_("div",te,[s("div",oe,[e[6]||(e[6]=s("h2",{class:"page-title"},"\u4F1A\u5458\u5347\u7EA7\u529F\u80FD\u6D4B\u8BD5",-1)),a(i,{onClick:S,class:"back-button"},{default:t(()=>e[5]||(e[5]=[r("\u8FD4\u56DE")])),_:1,__:[5]})]),a(b,{class:"test-config",shadow:"hover"},{header:t(()=>e[7]||(e[7]=[s("span",null,"\u6D4B\u8BD5\u53C2\u6570\u8BBE\u7F6E",-1)])),default:t(()=>[s("div",ne,[e[8]||(e[8]=s("h4",null,"\u5F53\u524D\u7528\u6237\u72B6\u6001\u6A21\u62DF",-1)),a(I,{model:l.value,"label-width":"120px"},{default:t(()=>[a(E,{label:"\u5F53\u524D\u4F1A\u5458\u7B49\u7EA7:"},{default:t(()=>[a(z,{modelValue:l.value.memberLevel,"onUpdate:modelValue":e[0]||(e[0]=n=>l.value.memberLevel=n),placeholder:"\u9009\u62E9\u4F1A\u5458\u7B49\u7EA7"},{default:t(()=>[a(L,{label:"\u666E\u901A\u4F1A\u5458",value:"normal"}),a(L,{label:"\u9AD8\u7EA7\u4F1A\u5458",value:"advanced"}),a(L,{label:"\u4E13\u4E1A\u4F1A\u5458",value:"professional"})]),_:1},8,["modelValue"])]),_:1}),a(E,{label:"\u4F1A\u5458\u8FC7\u671F\u65F6\u95F4:"},{default:t(()=>[a(B,{modelValue:l.value.memberExpireTime,"onUpdate:modelValue":e[1]||(e[1]=n=>l.value.memberExpireTime=n),type:"date",placeholder:"\u9009\u62E9\u8FC7\u671F\u65F6\u95F4",disabled:l.value.memberLevel==="normal"},null,8,["modelValue","disabled"])]),_:1}),a(E,{label:"\u7528\u6237\u79EF\u5206:"},{default:t(()=>[a(F,{modelValue:l.value.points,"onUpdate:modelValue":e[2]||(e[2]=n=>l.value.points=n),min:0,max:1e6,step:1e3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),s("div",re,[e[11]||(e[11]=s("h4",null,"\u5347\u7EA7\u76EE\u6807\u8BBE\u7F6E",-1)),a(R,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=n=>u.value=n)},{default:t(()=>[a(V,{value:"advanced"},{default:t(()=>e[9]||(e[9]=[r("\u5347\u7EA7\u5230\u9AD8\u7EA7\u4F1A\u5458")])),_:1,__:[9]}),a(V,{value:"professional"},{default:t(()=>e[10]||(e[10]=[r("\u5347\u7EA7\u5230\u4E13\u4E1A\u4F1A\u5458")])),_:1,__:[10]})]),_:1},8,["modelValue"])])]),_:1}),a(b,{class:"current-status",shadow:"hover"},{header:t(()=>e[12]||(e[12]=[s("span",null,"\u5F53\u524D\u72B6\u6001",-1)])),default:t(()=>[s("div",ue,[s("div",ie,[e[13]||(e[13]=s("span",{class:"label"},"\u4F1A\u5458\u7B49\u7EA7:",-1)),s("span",me,[a($,{type:y(l.value.memberLevel)},{default:t(()=>[r(p(c(l.value.memberLevel)),1)]),_:1},8,["type"])])]),l.value.memberLevel!=="normal"?(v(),_("div",de,[e[14]||(e[14]=s("span",{class:"label"},"\u8FC7\u671F\u65F6\u95F4:",-1)),s("span",pe,p(U(l.value.memberExpireTime)),1)])):k("",!0),s("div",ve,[e[15]||(e[15]=s("span",{class:"label"},"\u7528\u6237\u79EF\u5206:",-1)),s("span",_e,p(l.value.points.toLocaleString()),1)]),s("div",ce,[e[16]||(e[16]=s("span",{class:"label"},"\u5347\u7EA7\u76EE\u6807:",-1)),s("span",be,p(c(u.value)),1)])])]),_:1}),a(b,{class:"test-actions",shadow:"hover"},{header:t(()=>e[17]||(e[17]=[s("span",null,"\u6D4B\u8BD5\u64CD\u4F5C",-1)])),default:t(()=>[s("div",ge,[a(i,{type:"primary",size:"large",onClick:M,disabled:l.value.memberLevel===u.value},{default:t(()=>e[18]||(e[18]=[r(" \u6D4B\u8BD5\u4F1A\u5458\u5347\u7EA7\u529F\u80FD ")])),_:1,__:[18]},8,["disabled"]),a(i,{type:"success",size:"large",onClick:C},{default:t(()=>e[19]||(e[19]=[r(" \u6A21\u62DF\u5DF2\u662F\u4E13\u4E1A\u4F1A\u5458 ")])),_:1,__:[19]}),a(i,{type:"warning",size:"large",onClick:N},{default:t(()=>e[20]||(e[20]=[r(" \u91CD\u7F6E\u4E3A\u666E\u901A\u7528\u6237 ")])),_:1,__:[20]})])]),_:1}),a(b,{class:"test-logs",shadow:"hover"},{header:t(()=>[s("div",fe,[e[22]||(e[22]=s("span",null,"\u6D4B\u8BD5\u65E5\u5FD7",-1)),a(i,{size:"small",onClick:D},{default:t(()=>e[21]||(e[21]=[r("\u6E05\u7A7A\u65E5\u5FD7")])),_:1,__:[21]})])]),default:t(()=>[s("div",we,[(v(!0),_(se,null,le(m.value,(n,P)=>(v(),_("div",{key:P,class:ae(["log-item",n.type])},[s("span",Le,p(n.time),1),s("span",Ee,p(n.message),1)],2))),128)),m.value.length===0?(v(),_("div",Ve," \u6682\u65E0\u6D4B\u8BD5\u65E5\u5FD7 ")):k("",!0)])]),_:1}),a(ee,{modelValue:w.value,"onUpdate:modelValue":e[4]||(e[4]=n=>w.value=n),"current-member-level":l.value.memberLevel,"member-expire-time":l.value.memberExpireTime,"target-level":u.value,onUpgradeSuccess:h},null,8,["modelValue","current-member-level","member-expire-time","target-level"])])}}},Ue=j(ke,[["__scopeId","data-v-22f09a36"]]);export{Ue as default};
