# 飞书抖音插件

这是一个飞书多维表格插件，主要用于抖音视频数据采集、视频转写以及Markdown编辑等功能。

## 项目结构

项目采用Vue 3框架，使用了Element Plus UI组件库，以及飞书多维表格SDK。

### 核心视图组件

项目包含以下几个主要视图组件：

1. **Home.vue**: 主框架组件，负责组织布局和用户权限管理，包含导航菜单和各个功能视图的容器。

2. **DouyinView.vue**: 抖音视频链接提取组件，支持单视频模式和作者模式，可以采集抖音视频的标题、作者、点赞数等信息。

3. **TranscriptView.vue**: 视频转写组件，支持将视频转写为文本，包含转写选项和结果展示。

4. **BitableView.vue**: 多维表格视图组件，用于展示和管理飞书多维表格数据，支持表格选择、数据同步和导出。

5. **MarkdownView.vue**: Markdown编辑器组件，支持编辑和预览Markdown内容，包含工具栏和导出功能。

### 重要组件

1. **MarkdownEditor.vue**: Markdown编辑器组件，支持各种Markdown语法和快捷操作。

2. **MarkdownPreview.vue**: Markdown预览组件，将Markdown内容渲染为HTML。

3. **MarkdownToolbar.vue**: Markdown工具栏组件，提供各种编辑工具。

4. **VideoTranscriber.vue**: 视频转写表单组件，用于提交转写任务和显示进度。

5. **PermissionWrapper.vue**: 权限控制组件，用于根据用户权限控制功能访问。

### 可复用逻辑

1. **useTranscription.js**: 视频转写相关的可复用逻辑，提供转写API调用和状态管理。

2. **useApiConfig.js**: API配置相关的可复用逻辑，提供API地址和请求头管理。

## 功能说明

### 抖音数据采集

- 支持单视频链接和作者主页链接提取
- 可配置采集的字段（标题、点赞数、评论数等）
- 支持数据预览和导出

### 视频转写

- 支持视频URL转写为文本
- 可配置语言、格式、标点、时间戳等选项
- 支持下载为TXT和SRT字幕格式

### Markdown编辑

- 完整的Markdown编辑器
- 支持编辑、预览和分屏模式
- 包含丰富的工具栏功能
- 可导出为Markdown和HTML格式

### 多维表格管理

- 显示飞书多维表格数据
- 支持表格选择和数据同步
- 可导出为CSV格式

## 权限管理

系统包含以下几种会员等级和权限：

1. **免费用户**: 基本查看和下载功能
2. **基础会员**: 抖音提取、视频转写、Markdown编辑功能
3. **专业会员**: 基础功能 + 批量功能 + 高级Markdown功能
4. **企业会员**: 所有功能 + API访问权限

## 开发说明

开发环境包含以下特性：

- 自动授予所有权限用于测试
- 可切换不同用户角色进行功能测试
- 提供模拟数据，无需真实API或飞书环境

## 使用说明

1. 在飞书多维表格应用中安装此插件
2. 根据需要选择相应的功能选项卡
3. 按照界面提示操作相应功能

## 版本信息

当前版本: v1.00

## ⚡️ 提示

欢迎关注我的 B 站：[爱听书的程序员阿超](https://space.bilibili.com/521041866)

- 后续 AI 代码模板有更新我会发视频进行介绍
- 我还有蛮多功能想要迭代的：字段图标、视图图标、数据表图标、明暗模式兼容 等等
- 感谢大家的关注 💗

## 前提

- [node.js 18.10](https://nodejs.org/zh-cn/download)
- AI 代码开发工具：[豆包 MarsCode](https://www.marscode.cn/home?active_tab=vscode)（我正在使用的开发工具）、[Trae](https://www.trae.ai/)、Cursor 等
- GitHub 帐号（可选）
  - 如果要提交插件，就必须有一个 GitHub 帐号

## 开发步骤

1. 安装依赖 `npm install`
2. 启动开发服务器 `npm run dev`
3. 项目运行在 `http://localhost:5173/`

## TODO

- [ ] 数据表、视图、字段的 icon 组件（用视图管理器中对应的图标和组件即可）
- [ ] 明暗模式兼容
